% Define voltage and current data
voltage_0_02 = [0, -0.0001, -0.0002292, -0.00039716, -0.000615508, ...
    -0.00089936, -0.001268369, -0.001748079, -0.002371703, -0.003177425, ...
    -0.004218417, -0.00556338, -0.007301071, -0.009546169, -0.012428874, ...
    -0.016130267, -0.020882856, -0.026985181, -0.034820565, -0.044881199, ...
    -0.057799053, -0.074385577, -0.095682674, -0.12302815, -0.15813973, ...
    -0.20322301, -0.26110994, -0.33543675, -0.43087239, -0.55341174, ...
    -0.71075226, -0.9127775, -1.1705617, -1.4994943, -1.9192124, ...
    -2.4192124, -2.9192124, -3.4192124, -3.9192124, -4.4192124, ...
    -4.9192124, -5.4192124, -5.9192124, -6.4192124, -6.9192124, ...
    -7.4192124, -7.9192124, -8.4192124, -8.9192124, -9.4192124, ...
    -9.9192124, -10, -10, -9.9998, -9.99954, -9.999202, -9.9987626, ...
    -9.9981914, -9.9974488, -9.9964834, -9.9952285, -9.993597, ...
    -9.9914761, -9.9887189, -9.9851346, -9.980475, -9.9744175, ...
    -9.9665427, -9.9563056, -9.9429972, -9.9256964, -9.9032053, ...
    -9.8739669, -9.835957, -9.7865441, -9.7227026, -9.6402194, ...
    -9.5336511, -9.3959649, -9.2180743, -8.9882397, -8.6912934, ...
    -8.3076387, -7.8119568, -7.1715359, -6.344112, -5.344112, -5, ...
    -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

current_0_02 = [-6.49E-19, -7.51E-15, -1.72E-14, -2.93E-14, -4.60E-14, ...
    -6.61E-14, -9.48E-14, -1.27E-13, -1.78E-13, -2.38E-13, -3.16E-13, ...
    -4.17E-13, -5.48E-13, -7.19E-13, -9.39E-13, -1.23E-12, -1.60E-12, ...
    -2.11E-12, -2.80E-12, -3.78E-12, -5.25E-12, -7.62E-12, -1.18E-11, ...
    -2.02E-11, -3.94E-11, -9.19E-11, -2.69E-10, -1.05E-09, -5.75E-09, ...
    -4.67E-08, -5.25E-07, -5.22E-06, -2.65E-05, -7.73E-05, -0.000169534, ...
    -0.000308962, -0.000473995, -0.00066013, -0.000864113, -0.001083455, ...
    -0.001316174, -0.001560645, -0.001815507, -0.002079589, -0.002351869, ...
    -0.002631437, -0.002917471, -0.003209221, -0.003505994, -0.003807152, ...
    -0.004112111, -0.004161705, -0.004161705, -0.004161582, -0.004161422, ...
    -0.004161215, -0.004160945, -0.004160594, -0.004160137, -0.004159544, ...
    -0.004158773, -0.004157771, -0.004156468, -0.004154775, -0.004152573, ...
    -0.004149711, -0.004145991, -0.004141156, -0.004134871, -0.004126703, ...
    -0.004116088, -0.004102295, -0.004084373, -0.004061092, -0.004030855, ...
    -0.003991838, -0.003941512, -0.003876635, -0.003793061, -0.003685515, ...
    -0.003547323, -0.003370132, -0.003143659, -0.002855607, -0.002492094, ...
    -0.002039377, -0.001523231, -0.001354917, -0.00089857, -0.000502738, ...
    -0.000190083, -1.03E-05, -6.49E-19, 1.05E-05, 0.000191042, 0.000504325, ...
    0.000900711, 0.001357553, 0.001860663, 0.002400055, 0.002968091, ...
    0.003558543, 0.004166157]*1e3;

% Li = 0.04 nm
voltage_0_04 = [
    0, -0.0001, -0.0002284, -0.00039532, -0.000612316, -0.000894411, ...
    -0.001261134, -0.001737874, -0.002353823, -0.003154556, -0.004189102, ...
    -0.005534013, -0.007260879, -0.009505804, -0.012388288, -0.016135518, ...
    -0.02094696, -0.027124852, -0.035007842, -0.045066538, -0.057901433, ...
    -0.07427876, -0.095176229, -0.12200858, -0.15646132, -0.20069863, ...
    -0.25749934, -0.33043146, -0.42407629, -0.54431626, -0.69870438, ...
    -0.89693873, -1.1514716, -1.4782919, -1.8953145, -2.3953145, ...
    -2.8953145, -3.3953145, -3.8953145, -4.3953145, -4.8953145, ...
    -5.3953145, -5.8953145, -6.3953145, -6.8953145, -7.3953145, ...
    -7.8953145, -8.3953145, -8.8953145, -9.3953145, -9.8953145, ...
    -10, -10, -9.9998, -9.99954, -9.999202, -9.9987626, -9.9981914, ...
    -9.9974488, -9.9964834, -9.9952285, -9.993597, -9.9914761, ...
    -9.9887189, -9.9851346, -9.980475, -9.9744175, -9.9665427, ...
    -9.9563056, -9.9429972, -9.9256964, -9.9032053, -9.8739669, ...
    -9.835957, -9.7868482, -9.7233996, -9.641424, -9.5355115, ...
    -9.3986726, -9.2218767, -8.9934564, -8.6983374, -8.3170437, ...
    -7.8244122, -7.1879323, -6.3656003, -5.3656003, -5, -4, -3, ...
    -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
];
current_0_04 = [
    -6.38E-19, -1.26E-17, -3.06E-17, -5.07E-17, -8.07E-17, -1.15E-16, ...
    -1.71E-16, -2.27E-16, -2.91E-16, -4.08E-16, -5.80E-16, -7.08E-16, ...
    -1.10E-15, -1.19E-15, -1.68E-15, -1.97E-15, -2.51E-15, -3.20E-15, ...
    -4.06E-15, -5.18E-15, -6.67E-15, -8.78E-15, -1.20E-14, -1.75E-14, ...
    -2.80E-14, -5.06E-14, -1.08E-13, -2.81E-13, -9.55E-13, -4.51E-12, ...
    -3.22E-11, -3.78E-10, -7.85E-09, -2.61E-07, -5.70E-06, -3.30E-05, ...
    -8.23E-05, -0.000148604, -0.000229179, -0.000322416, -0.000427149, ...
    -0.000542441, -0.000667503, -0.000801648, -0.000944274, -0.001094841, ...
    -0.00125286, -0.001417888, -0.001589514, -0.001767361, -0.001951076, ...
    -0.001990251, -0.001990251, -0.001990176, -0.001990079, -0.001989952, ...
    -0.001989787, -0.001989573, -0.001989294, -0.001988932, -0.001988461, ...
    -0.001987848, -0.001987053, -0.001986018, -0.001984674, -0.001982926, ...
    -0.001980656, -0.001977705, -0.001973871, -0.00196889, -0.00196242, ...
    -0.00195402, -0.001943116, -0.00192897, -0.001910741, -0.001887268, ...
    -0.001857077, -0.001818296, -0.001768576, -0.001704988, -0.001623944, ...
    -0.001521138, -0.001391608, -0.001230016, -0.00103146, -0.000793433, ...
    -0.000535309, -0.000450442, -0.000247695, -9.49E-05, -9.34E-06, ...
    -1.32E-09, -6.38E-19, 4.10E-06, 9.02E-05, 0.000255096, 0.000479841, ...
    0.000753445, 0.001068119, 0.001417901, 0.001798002, 0.002204424, ...
    0.002633716]*1e3;

% Define voltage and current data for Li = 0.06 nm
voltage_0_06 = [0, -0.0001, -0.0002292, -0.000396126, -0.00061046, ...
    -0.000889093, -0.001251317, -0.001722208, -0.002334366, -0.003130171, ...
    -0.004164718, -0.005509629, -0.007258013, -0.009530912, -0.012485682, ...
    -0.016326882, -0.021320442, -0.027692224, -0.035822619, -0.046197003, ...
    -0.059434716, -0.076114235, -0.097263865, -0.12441999, -0.15885396, ...
    -0.20251623, -0.25787998, -0.32852414, -0.41866608, -0.5336872, ...
    -0.68045414, -0.8689029, -1.1108711, -1.4215583, -1.8204806, ...
    -2.3204806, -2.8204806, -3.3204806, -3.8204806, -4.3204806, ...
    -4.8204806, -5.3204806, -5.8204806, -6.3204806, -6.8204806, ...
    -7.3204806, -7.8204806, -8.3204806, -8.8204806, -9.3204806, ...
    -9.8204806, -10, -10, -9.9998, -9.99954, -9.999202, -9.9987626, ...
    -9.9981914, -9.9974488, -9.9964834, -9.9952285, -9.993597, ...
    -9.9914761, -9.9887189, -9.9851346, -9.980475, -9.9744175, ...
    -9.9665427, -9.9563056, -9.9429972, -9.9256964, -9.9032053, ...
    -9.8739669, -9.8361909, -9.7873843, -9.7243261, -9.642855, ...
    -9.5375943, -9.4015975, -9.2258896, -8.998875, -8.7055721, ...
    -8.3266248, -7.8370249, -7.2044618, -6.3871902, -5.3871902, -5, ...
    -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

current_0_06 = [-9.80E-19, -4.31E-18, -9.80E-19, -9.80E-19, -4.34E-18, ...
    -4.34E-18, -4.34E-18, -7.98E-18, -1.16E-17, -1.50E-17, -1.86E-17, ...
    -2.56E-17, -3.26E-17, -4.32E-17, -5.36E-17, -6.42E-17, -8.89E-17, ...
    -1.13E-16, -1.41E-16, -1.73E-16, -2.15E-16, -2.68E-16, -3.46E-16, ...
    -4.65E-16, -6.69E-16, -1.05E-15, -1.86E-15, -3.82E-15, -9.53E-15, ...
    -3.03E-14, -1.31E-13, -8.36E-13, -8.69E-12, -1.63E-10, -5.94E-09, ...
    -3.17E-07, -4.74E-06, -2.03E-05, -4.76E-05, -8.48E-05, -0.000130353, ...
    -0.00018354, -0.000243749, -0.000310562, -0.000383639, -0.000462688, ...
    -0.000547448, -0.000637685, -0.000733184, -0.000833746, -0.000939184, ...
    -0.000978196, -0.000978196, -0.000978152, -0.000978095, -0.000978021, ...
    -0.000977925, -0.0009778, -0.000977637, -0.000977426, -0.000977151, ...
    -0.000976794, -0.00097633, -0.000975726, -0.000974942, -0.000973923, ...
    -0.0009726, -0.000970879, -0.000968645, -0.000965743, -0.000961975, ...
    -0.000957086, -0.000950744, -0.000942574, -0.000932057, -0.000918536, ...
    -0.000901179, -0.000878941, -0.000850525, -0.000814342, -0.000768492, ...
    -0.000710782, -0.000638827, -0.000550347, -0.000443828, -0.000319957, ...
    -0.000191177, -0.00014861, -5.99E-05, -8.88E-06, -2.72E-08, -2.99E-12, ...
    -9.80E-19, 2.16E-06, 4.69E-05, 0.000137031, 0.000265311, 0.000427069, ...
    0.000618752, 0.000837451, 0.001080699, 0.001346348, 0.001632497]*1e3;


% Sort voltage and current for 0.02
[voltage_0_02_sorted, sort_idx_02] = sort(voltage_0_02);
current_0_02_sorted = current_0_02(sort_idx_02);

% Sort voltage and current for 0.04
[voltage_0_04_sorted, sort_idx_04] = sort(voltage_0_04);
current_0_04_sorted = current_0_04(sort_idx_04);

% Sort voltage and current for 0.06
[voltage_0_06_sorted, sort_idx_06] = sort(voltage_0_06);
current_0_06_sorted = current_0_06(sort_idx_06);

% Plot all three DCIV curves
figure;
semilogy(voltage_0_02_sorted, abs(current_0_02_sorted), '-o', 'LineWidth', 3, 'MarkerSize', 6); hold on;
semilogy(voltage_0_04_sorted, abs(current_0_04_sorted), '-o', 'LineWidth', 3, 'MarkerSize', 6);
semilogy(voltage_0_06_sorted, abs(current_0_06_sorted), '-o', 'LineWidth', 3, 'MarkerSize', 6);

% Draw gridlines only at x=0 and y=0
xline(0, '--k', 'LineWidth', 2);  % Vertical line at x=0
yline(0, '--k', 'LineWidth', 2);  % Horizontal line at y=0

% Labels
xlabel('Voltage (V)', 'FontSize', 30, 'FontWeight', 'bold');
ylabel('Current (mA)', 'FontSize', 30, 'FontWeight', 'bold');
xlim([-10 10])
% Y-axis ticks
% yticks([-0.005, -.0045, -0.004, -0.0035, -0.003, -0.0025, -0.002, -0.0015, -0.001, -0.0005, 0, 0.0005, 0.001, 0.0015, 0.002, 0.0025, 0.003, 0.0035, 0.004, 0.0045, 0.005]*1e3);

% Aesthetics
set(gca, 'FontSize', 30, 'FontWeight', 'bold', 'LineWidth', 5);

% Corrected legend
legend('Li-2 = 20 nm', 'Li-2 = 40 nm', 'Li-2 = 60 nm', 'Location', 'best');
